---
title: "Entrega 1: Anàlisi exploratòria amb R base"
format: html
editor: visual
---

## Quarto

## Running Code

En primer lloc imprimim la taula per a observar les dades.

```{r, echo = FALSE}
library("palmerpenguins")
print(penguins)
```

Notem que tenim 344 observacions que depenen de 8 variables diferents: espècie, illa, longitut del bec, profunditat del bec, logitut de l'aleta, massa del cos, sexe, any.

Anem a estudiar cada una de les variables per separat. En primer lloc, vegem quins tipus de variables són (amb ajuda de la funció class) i analitzem-les en conseqüència.

```{r, echo = TRUE}
class(penguins$species)
class(penguins$island)
```

Notem que les variables espècie i illa són variables qualitatives i, per tant, podem fer una taula de freqüències relatives segons l'espècie i una altre segons l'illa.

```{r, echo = TRUE}
table(penguins$species)
prop.table(table(penguins$species))
```

Notem que gairebé la meitat dels pinguins de l'estudi són Adelie.

```{r, echo = TRUE}
table(penguins$island)
prop.table(table(penguins$island))
```

Notem que gairebé la meitat dels pinguins de l'estudi es troben a l'illa Biscoe.

```{r, echo = TRUE}
class(penguins$bill_length_mm)
class(penguins$bill_depth_mm)
class(penguins$flipper_length_mm)
class(penguins$body_mass_g)
```

Notem que les variables logitut del bec, profunditat del bec, logitut de l'aleta i massa del cos són variables quantitatives. Usarem la funció summary per veure la informació més rellevant (com no ens mostra la desviació típica, la calcularem apart) a més usarem boxplots en funció de l'espècie per a veure de forma més clara la distribució de les dades.

```{r, echo = TRUE}
summary(penguins$bill_length_mm)
sd(penguins$bill_length_mm, na.rm = TRUE)
```

Notem que la longitud del bec en general no varia molt. Vegem què passa espècie per espècie i llavors, amb un boxplot podrem comparar més fàcilment:

```{r, echo = TRUE}
summary(penguins$bill_length_mm[which(penguins$species=="Adelie")])
sd(penguins$bill_length_mm[which(penguins$species=="Adelie")], na.rm = TRUE)
```

```{r, echo = TRUE}
summary(penguins$bill_length_mm[which(penguins$species=="Chinstrap")])
sd(penguins$bill_length_mm[which(penguins$species=="Chinstrap")], na.rm = TRUE)
```

```{r, echo = TRUE}
summary(penguins$bill_length_mm[which(penguins$species=="Gentoo")])
sd(penguins$bill_length_mm[which(penguins$species=="Gentoo")], na.rm = TRUE)

```

```{r, echo = TRUE}
boxplot(penguins$bill_length_mm[which(penguins$species=="Adelie")], penguins$bill_length_mm[which(penguins$species=="Chinstrap")], penguins$bill_length_mm[which(penguins$species=="Gentoo")], names= c("Adelie", "Chinstrap","Gentoo"), xlab= "espècie", ylab= "longitut del bec(mm)")
```

Podem deduir que els pinguins de l'espècie Chinstrap solen tenir el bec més llarg que els pinguins de les altres espècies, però dins la mateixa espècie trobem més diversitat. A més, les llargàries dels becs dels pingüins Chinstrap i Gentoo són, en general, més grans que les dels Adelie.

Ara farem exactament la mateixa anàlisi amb la profunditat del bec.

```{r, echo = TRUE}
summary(penguins$bill_depth_mm)
sd(penguins$bill_depth_mm, na.rm = TRUE)
```

Notem que en aquest cas, la profunditat varia molt manco que la llargària del bec (el rang que prenen les variables és de 8mm i la desviació típica no és molt gran). Vegem-ho ara per espècies:

```{r, echo = TRUE}
summary(penguins$bill_depth_mm[which(penguins$species=="Adelie")])
sd(penguins$bill_depth_mm[which(penguins$species=="Adelie")], na.rm = TRUE)
```

```{r, echo = TRUE}
summary(penguins$bill_depth_mm[which(penguins$species=="Chinstrap")])
sd(penguins$bill_depth_mm[which(penguins$species=="Chinstrap")], na.rm = TRUE)

```

```{r, echo = TRUE}
summary(penguins$bill_depth_mm[which(penguins$species=="Gentoo")])
sd(penguins$bill_depth_mm[which(penguins$species=="Gentoo")], na.rm = TRUE)

```

```{r, echo = TRUE}
boxplot(penguins$bill_depth_mm[which(penguins$species=="Adelie")], penguins$bill_depth_mm[which(penguins$species=="Chinstrap")], penguins$bill_depth_mm[which(penguins$species=="Gentoo")], names= c("Adelie", "Chinstrap","Gentoo"), xlab= "espècie", ylab= "profunditat del bec(mm)")
```

Observem també que els pinguins de les espècies Chinstrap i Adelie solen tenir el bec una mica més profund. Ara bé, dins els Adelie, trobem més diversitat (profunditats diferents). Als Gentoo trobem becs manco profunds i més semblants entre ells.

Estudiem ara com són les aletes dels pingüins de l'estudi.

```{r, echo = TRUE}
summary(penguins$flipper_length_mm)
sd(penguins$flipper_length_mm, na.rm = TRUE)
```

En aquest cas, veim que sí que hi ha més diferències: trobem que el rang d'aquesta variable són 5.9 cm i la desviació típica és prou gran. De nou, estudiem-ho espècie per espècie:

```{r, echo = TRUE}
summary(penguins$flipper_length_mm[which(penguins$species=="Adelie")])
sd(penguins$flipper_length_mm[which(penguins$species=="Adelie")], na.rm = TRUE)

```

```{r, echo = TRUE}
summary(penguins$flipper_length_mm[which(penguins$species=="Chinstrap")])
sd(penguins$flipper_length_mm[which(penguins$species=="Chinstrap")], na.rm = TRUE)

```

```{r, echo = TRUE}
summary(penguins$flipper_length_mm[which(penguins$species=="Gentoo")])
sd(penguins$flipper_length_mm[which(penguins$species=="Gentoo")], na.rm = TRUE)

```

```{r, echo = TRUE}
boxplot(penguins$flipper_length_mm[which(penguins$species=="Adelie")], penguins$flipper_length_mm[which(penguins$species=="Chinstrap")], penguins$flipper_length_mm[which(penguins$species=="Gentoo")], names= c("Adelie", "Chinstrap","Gentoo"), xlab= "espècie", ylab= "longitut de l'aleta(mm)")
```

Notem que els pinguins de l'espècie Gentoo de mitjana tenen l'aleta més de 10 centímetres més llarga que les altres espècies. A més, es tracta de l'espècie que, en general, les aletes d'individus diferents són més semblants. En canvi, als Adelie i Chinstrap trobem més diversitat d'aletes.

Estudiem, ara, les masses dels pingüins.

```{r, echo = TRUE}
summary(penguins$body_mass_g)
sd(penguins$body_mass_g, na.rm = TRUE)
```

En aquest cas, el rang és de 3.6 kg i la desviació típica és bastant gran: de nou, vegem com són les masses de cada espècie.

```{r, echo = TRUE}
summary(penguins$body_mass_g[which(penguins$species=="Adelie")])
sd(penguins$body_mass_g[which(penguins$species=="Adelie")], na.rm = TRUE)
```

```{r, echo = TRUE}
summary(penguins$body_mass_g[which(penguins$species=="Chinstrap")])
sd(penguins$body_mass_g[which(penguins$species=="Chinstrap")], na.rm = TRUE)
```

```{r, echo = TRUE}
summary(penguins$body_mass_g[which(penguins$species=="Gentoo")])
sd(penguins$body_mass_g[which(penguins$species=="Gentoo")], na.rm = TRUE)
```

```{r, echo = TRUE}
boxplot(penguins$body_mass_g[which(penguins$species=="Adelie")], penguins$body_mass_g[which(penguins$species=="Chinstrap")], penguins$body_mass_g[which(penguins$species=="Gentoo")], names= c("Adelie", "Chinstrap","Gentoo"), xlab= "espècie", ylab= "massa del cos(g)")
```

Notem que els pingüins de l'espècie Gentoo de mitjana pesen 2 Kg més que els de les altres espècies. A més, els pesos dels Adelie i Chinstrap s'assemblen més que els dels Gentoo. Els pesos manco dispersos són els dels Chinstrap.

Ara, estudiarem les variables logitut del bec, profunditat del bec, logitut de l'aleta i massa del cos en funció de la illa.

```{r, echo = TRUE}
boxplot(penguins$bill_length_mm[which(penguins$island=="Biscoe")], penguins$bill_length_mm[which(penguins$island=="Dream")], penguins$bill_length_mm[which(penguins$island=="Torgersen")], names= c("Biscoe", "Dream ","Torgersen"), xlab= "Illa", ylab= "longitut del bec(mm)")
```

```{r, echo = TRUE}
boxplot(penguins$bill_depth_mm[which(penguins$island=="Biscoe")], penguins$bill_depth_mm[which(penguins$island=="Dream")], penguins$bill_depth_mm[which(penguins$island=="Torgersen")], names= c("Biscoe", "Dream ","Torgersen"), xlab= "Illa", ylab= "profunditat del bec(mm)")
```

```{r, echo = TRUE}
boxplot(penguins$flipper_length_mm[which(penguins$island=="Biscoe")], penguins$flipper_length_mm[which(penguins$island=="Dream")], penguins$flipper_length_mm[which(penguins$island=="Torgersen")], names= c("Biscoe", "Dream ","Torgersen"), xlab= "Illa", ylab= "Longitud de l'aleta (mm)")

```

```{r, echo = TRUE}
boxplot(penguins$body_mass_g[which(penguins$island=="Biscoe")], penguins$body_mass_g[which(penguins$island=="Dream")], penguins$body_mass_g[which(penguins$island=="Torgersen")], names= c("Biscoe", "Dream ","Torgersen"), xlab= "Illa", ylab= "Massa del cos (g)")
```

Vegem ara, respecte cada illa i cada any que es realitza l'experiment, quina és la proporció d'espècies:

Comencem per Biscoe:

```{r, echo = TRUE}
prop.table(table(penguins$species[which(penguins$island=="Biscoe" & penguins$year=="2007")]))
prop.table(table(penguins$species[which(penguins$island=="Biscoe" & penguins$year=="2008")]))
prop.table(table(penguins$species[which(penguins$island=="Biscoe" & penguins$year=="2009")]))

```

Cal notar que a l'estudi no trobem cap exemplar de Chinstrap, independentment de l'any que es realitza l'estudi.

Ara estudiem la població de Dream:

```{r, echo = TRUE}
prop.table(table(penguins$species[which(penguins$island=="Dream" & penguins$year=="2007")]))
prop.table(table(penguins$species[which(penguins$island=="Dream" & penguins$year=="2008")]))
prop.table(table(penguins$species[which(penguins$island=="Dream" & penguins$year=="2009")]))

```

Observem que cap dels pinguins de l'estudi que habiten a Dream són Gentoo independentment de l'any de l'estudi.

Finalment, estudiem Torgersen:

```{r, echo = TRUE}
prop.table(table(penguins$species[which(penguins$island=="Torgersen" & penguins$year=="2007")]))
prop.table(table(penguins$species[which(penguins$island=="Torgersen" & penguins$year=="2008")]))
prop.table(table(penguins$species[which(penguins$island=="Torgersen" & penguins$year=="2009")]))

```

Notem que tots els pinguins de l'estudi que habiten a Torgersen són Adelie independentment de l'any de l'estudi.

Estudiem ara la variable sexe.

```{r, echo = TRUE}
class(penguins$sex)
```

Notem que la variable "sex" és una variable qualitativa i podem fer una taula de freqüències.

```{r, echo = TRUE}
prop.table(table(penguins$sex))
```

Està bastant igualat el nombre de pinguins de cada sexe que s'han seleccionat per l'estudi.

Estudiem la variable any de l'esperiment.

```{r, echo = TRUE}
class(penguins$year)
```

Considerarem l'any com una variable qualitativa, és a dir, com un atribut del pingüí. Per aquest motiu, estudiarem les seves freqüències relatives:

```{r, echo = TRUE}
prop.table(table(penguins$year))
```

A la taula de freqüències anterior podem veure la proporció d'unitats mostrals en funció de l'any de l'esperiment, la qual és bastant equilibrada.
